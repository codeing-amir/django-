# โจ README โ ูพุฑูฺูโ Django (Backend)

**ูุงู ูพุฑูฺู:** rdm-backend (ูุซุงู)

**ูุฏู:** ุงู ูุฎุฒู ฺฉ ุจฺฉโุงูุฏ ฺฉุงูู ุจุง Django ุขูุงุฏู ุจุฑุง ุงุณุชูุงุฏู ุฏุฑ ูพุฑูฺูโูุง ูุจ ุงุณุช. ุดุงูู ูุฏูโูุงุ API RESTุ ุงุญุฑุงุฒ ููุชุ ูุณุชูุฏุงุชุ ุชูุธูุงุช ูุญุทุ ุฏุงฺฉุฑุ ู ูฺฉุงุช ูุฑุจูุท ุจู ุงุณุชูุฑุงุฑ ุงุณุช.

---

## ๐ ููุง ฺฉู

ุงู ูพุฑูฺู ุจุฑุง ุณุฑุนโุณุงุฒ ุชูุณุนูโ ุจฺฉโุงูุฏ ูุจ ุจุง ุงุณุชูุงุฏู ุงุฒ Django ู Django REST Framework ุทุฑุงุญ ุดุฏู ุงุณุช. ูุฏู ูุฑุงูู ฺฉุฑุฏู ุณุงุฎุชุงุฑ ูุงุจู ุชูุณุนูุ ุงูู ู ุฎูุงูุง ุจุฑุง ุงูพูฺฉุดูโูุง ูุงููุฏ ูุฑูุดฺฏุงูุ ุณุงูุงูู ูุฏุฑุช ูุญุชูุงุ ุง ุณุงูุงููโูุง ุณุฑูุณโุฏู ุงุณุช.

### ูฺฺฏโูุง

* ูุนูุงุฑ ุงุณุชุงูุฏุงุฑุฏ Django (apps ุฌุฏุงฺฏุงูู)
* API REST ุจุง Django REST Framework
* ุงุญุฑุงุฒ ููุช JWT (ุง Token) ู ูุฏุฑุช ฺฉุงุฑุจุฑุงู
* ุตูุญู ุงุฏูู Django ูุนุงู
* ุชูุธูุงุช ฺูุฏูุญุท (development / production)
* ูพฺฉุฑุจูุฏ ุจุง ูุงู `.env`
* Docker + Docker Compose ุจุฑุง ุชูุณุนู ู ุงุณุชูุฑุงุฑ ูุญู
* ูุงู ููููู ุจุฑุง migrationsุ fixtures ู ูููููโ ุฏุงุฏู
* ุชุณุชโูุง ูุงุญุฏ ู ุงูุชูุง ุจู ุงูุชูุง (pytest ุง Django test)
* ูุณุชูุฏุงุช ุณุงุฏู API (Swagger / ReDoc ูุงุจู ุงุถุงูู ุดุฏู)

---

## ๐งฉ ุณุงุฎุชุงุฑ ูพุดููุงุฏ ูพุฑูฺู

```
rdm-backend/
โโโ manage.py
โโโ README.md
โโโ .env.example
โโโ requirements.txt
โโโ Dockerfile
โโโ docker-compose.yml
โโโ rdm_project/                # ุชูุธูุงุช ุงุตู ูพุฑูฺู
โ   โโโ settings.py
โ   โโโ urls.py
โ   โโโ wsgi.py
โโโ apps/
โ   โโโ users/                  # ุงุญุฑุงุฒ ููุช ู ูพุฑููุงู
โ   โโโ core/                   # ูุฏูโูุง ู ููุทู ุงุตู
โ   โโโ api/                    # serializer ูุง ู viewset ูุง
โโโ tests/
โโโ docs/
```

---

## โ๏ธ ูพุดโูุงุฒูุง

* Python 3.10+ (ุง 3.9+)
* pip
* virtualenv (ุง venv)
* Docker (ุงุฎุชุงุฑ ุจุฑุง ุชูุณุนู/ุงุณุชูุฑุงุฑ)

---

## ๐ ุฑุงูโุงูุฏุงุฒ ูุญู (ุจุฏูู Docker)

1. ูพุฑูฺู ุฑุง ฺฉููู ฺฉูุฏ:

```bash
git clone <repository-url> rdm-backend
cd rdm-backend
```

2. ูุญุท ูุฌุงุฒ ุจุณุงุฒุฏ ู ูุนุงู ฺฉูุฏ:

```bash
python -m venv .venv
source .venv/bin/activate    # macOS / Linux
.venv\Scripts\activate      # Windows
```

3. ูุงุจุณุชฺฏโูุง ุฑุง ูุตุจ ฺฉูุฏ:

```bash
pip install -r requirements.txt
```

4. ูุงู ููููู `.env.example` ุฑุง ฺฉูพ ู ููุฏุงุฑุฏู ฺฉูุฏ:

```bash
cp .env.example .env
# ุณูพุณ ููุงุฏุฑ DATABASE_URL, SECRET_KEY, DEBUG ู ุฏฺฏุฑุงู ุฑุง ูุฑุงุด ฺฉูุฏ
```

5. ููุงุฌุฑุชโูุง ุฑุง ุงุนูุงู ฺฉูุฏ ู ุณููพุฑ ูุฒุฑ ุจุณุงุฒุฏ:

```bash
python manage.py migrate
python manage.py createsuperuser
```

6. ุณุฑูุฑ ุชูุณุนู ุฑุง ุงุฌุฑุง ฺฉูุฏ:

```bash
python manage.py runserver
```

ุงฺฉููู ุงูพ ุฑู `http://127.0.0.1:8000/` ุฏุฑ ุฏุณุชุฑุณ ุงุณุช.

---

## ๐ณ ุฑุงูโุงูุฏุงุฒ ุจุง Docker (ุชูุณุนู)

ูุงู `docker-compose.yml` ุดุงูู ุณุฑูุณโูุง: `web` (Django), `db` (Postgres), `redis` (ุงุฎุชุงุฑ), `nginx` (ุงุฎุชุงุฑ) ุงุณุช.

1. ุณุงุฎุช ู ุงุฌุฑุง ฺฉุงูุชูุฑูุง:

```bash
docker-compose up --build
```

2. ุงุฌุฑุง ููุงุฌุฑุชโูุง ุฏุงุฎู ฺฉุงูุชูุฑ:

```bash
docker-compose exec web python manage.py migrate
```

3. ุณุงุฎุช ุณููพุฑ ูุฒุฑ:

```bash
docker-compose exec web python manage.py createsuperuser
```

---

## ๐ ูพฺฉุฑุจูุฏ ูุญุท (`.env`)

ููููู ูุชุบุฑูุง ุฏุฑ `.env.example`:

```
DEBUG=True
SECRET_KEY=your-secret-key
DATABASE_URL=postgres://user:password@db:5432/rdm_db
ALLOWED_HOSTS=localhost,127.0.0.1
DJANGO_SETTINGS_MODULE=rdm_project.settings
```

> **ูฺฉุชู ุงููุช:** `SECRET_KEY` ุฑุง ุฏุฑ ูุฎุฒู ูุฑุงุฑ ูุฏูุฏุ ุฏุฑ ูุญุท production ุงุฒ ูุชุบุฑ ูุญุท ุงูู ุงุณุชูุงุฏู ฺฉูุฏ.

---

## ๐๏ธ ูุฏูโูุง ู API (ููููู)

### ูุฏูโูุง ููููู

* `User` (ฺฏุณุชุฑุดโุงูุชู ุงุฒ `AbstractUser` ุง `AbstractBaseUser`) โ ูุฏุฑุช ฺฉุงุฑุจุฑุงู ู ูพุฑููุงู
* `Product` / `Article` / `Order` โ ููููู ูุฏูโูุง ฺฉุณุจโูฺฉุงุฑ

### ููููู endpoints

* `POST /api/auth/login/` โ ูุฑูุฏ ู ุฏุฑุงูุช JWT
* `POST /api/auth/register/` โ ุซุจุชโูุงู ฺฉุงุฑุจุฑ
* `GET /api/users/` โ ูุณุช ฺฉุงุฑุจุฑุงู (admin)
* `GET /api/products/` โ ูุณุช ูุญุตููุงุช
* `POST /api/products/` โ ุงุฌุงุฏ ูุญุตูู (auth)

(ุฌุฒุฆุงุช ุจุดุชุฑ ุฏุฑ ูุงู `docs/api.md` ุง ุงุฒ ุทุฑู Swagger ูุฑุงูู ุดูุฏ.)

---

## โ ุชุณุชโูุง

* ุงุฒ `pytest` ุง `python manage.py test` ุงุณุชูุงุฏู ฺฉูุฏ.
* ูุซุงู ุงุฌุฑุง pytest:

```bash
pytest --maxfail=1 -q
```

---

## ๐ฆ ูุฏุฑุช ูุงุจุณุชฺฏ

ูุงู `requirements.txt` ุดุงูู ููุงุฑุฏ ูพุงู ุงุณุช ูุซู:

```
Django>=4.2
djangorestframework
psycopg2-binary
python-dotenv
gunicorn
djangorestframework-simplejwt
```

---

## โ๏ธ ุงุณุชูุฑุงุฑ (ููููู: Linux + Gunicorn + Nginx)

1. ุฏุฑ ุณุฑูุฑ production ุงุฒ `DEBUG=False` ุงุณุชูุงุฏู ฺฉูุฏ ู `ALLOWED_HOSTS` ุฑุง ูุดุฎุต ฺฉูุฏ.
2. ุงุฒ ฺฉ ุฏุชุงุจุณ PostgreSQL ุง managed DB ุงุณุชูุงุฏู ฺฉูุฏ.
3. ฺฉ ุณุฑูุณ systemd ุจุฑุง Gunicorn ุชุนุฑู ฺฉูุฏ ู ุขู ุฑุง ูพุดุช Nginx ูุฑุงุฑ ุฏูุฏ.
4. ุงุฌุฑุง ุฏุณุชูุฑุงูุนููโูุง ุงููุช: HTTPS (Let's Encrypt)ุ ูุฏุฑุช ูุงูโูุง ุงุณุชุงุชฺฉ ุจุง `collectstatic`ุ ูพฺฉุฑุจูุฏ CORS ุงฺฏุฑ ูุงุฒ ุงุณุช.

ููููู ุฏุณุชูุฑุงุช:

```bash
python manage.py collectstatic --noinput
gunicorn rdm_project.wsgi:application --bind 0.0.0.0:8000
```

---

## ๐งฐ ุงุจุฒุงุฑ ูพุดููุงุฏ ุจุฑุง ุชูุณุนู

* `django-debug-toolbar` ุจุฑุง ุฏุจุงฺฏ
* `drf-yasg` ุง `drf-spectacular` ุจุฑุง ูุณุชูุฏุณุงุฒ API
* `celery` + `redis` ุจุฑุง ฺฉุงุฑูุง ูพุณโุฒููู
* `whitenoise` ุจุฑุง ุณุฑู ฺฉุฑุฏู static ุฏุฑ production (ุฏุฑ ุตูุฑุช ุณุงุฏู)

---

## ๐ค ูุดุงุฑฺฉุช

ุงฺฏุฑ ุนูุงููโููุฏ ุจู ูุดุงุฑฺฉุช ูุณุชุฏ:

1. ููุฑฺฉ ฺฉูุฏ
2. ุดุงุฎู feature ุจุณุงุฒุฏ
3. PR ุจูุฑุณุชุฏ

ูุทูุงู ุงุฒ ููุงูู ฺฉุฏููุณ ู ูุฑูุช commit ูุดุฎุต ุงุณุชูุงุฏู ฺฉูุฏ (ูุซูุงู Conventional Commits).

---

## ๐ ูููููู ุฏุณุชูุฑุงุช ููุฏ

```bash
# ุงุฌุฑุง ุณุฑูุฑ ุชูุณุนู
python manage.py runserver

# ุณุงุฎุช ู ุงุนูุงู ููุงุฌุฑุช
python manage.py makemigrations
python manage.py migrate

# ูุตุจ ูุงุจุณุชฺฏ ุฌุฏุฏ
pip install <package>
pip freeze > requirements.txt
```

---

## ๐ ูุงุณูุณ

ุงู ูพุฑูฺู ุจุง ูุงุณูุณ MIT ููุชุดุฑ ูโุดูุฏ โ ุฏุฑ ุตูุฑุช ูุงุฒ ูุงุณูุณ ููุงุณุจ ุฑุง ูุฑุงุฑ ุฏูุฏ.

---

